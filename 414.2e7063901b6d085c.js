"use strict";(self.webpackChunkPerfectPresentationTask=self.webpackChunkPerfectPresentationTask||[]).push([[414],{1414:(O,u,l)=>{l.r(u),l.d(u,{AuthModule:()=>L});var m=l(6814),i=l(6223),t=l(5879),x=l(2333),Z=l(2425),c=l(4828),h=l(9515),b=l(9388);function v(n,f){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.requiredEmail")," "))}function C(n,f){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.error")," "))}function A(n,f){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"login.requiredPassword")," "))}let P=(()=>{class n{constructor(r,e,o,s,a){this.fb=r,this.service=e,this.toaster=o,this.router=s,this.translate=a,this.users=[]}ngOnInit(){this.createForm(),this.getUsers()}createForm(){this.loginForm=this.fb.group({email:["",i.kI.required],password:["",[i.kI.required,i.kI.pattern(/^(?=.*[A-Z])(?=.*[a-z 0-9])(?=.{4,})/)]]})}getUsers(){this.service.getUsers().subscribe({next:r=>{this.users=r}})}login(){-1==this.users.findIndex(e=>e.email==this.loginForm.value.email&&e.password==this.loginForm.value.password)?this.toaster.error(this.translate.instant("toaster.emailPassword")):this.service.login({email:this.loginForm.value.email,password:this.loginForm.value.password,username:"Admin"}).subscribe({next:o=>{this.service.user.next(o),this.toaster.success(this.translate.instant("toaster.login")),this.router.navigate([""]),localStorage.setItem("token",o?.username)}})}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(x.e),t.Y36(Z._W),t.Y36(c.F0),t.Y36(h.sK))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:28,consts:[[3,"dir"],[1,"background"],[1,"shape"],[3,"formGroup","ngSubmit"],["for","email"],["type","text","formControlName","email","id","email",3,"placeholder"],[1,"bg-danger","p-2","rounded-1",3,"hidden"],[4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password",3,"placeholder"],[3,"disabled"]],template:function(e,o){if(1&e&&(t.TgZ(0,"body",0),t.ALo(1,"translate"),t.TgZ(2,"div",1),t._UZ(3,"div",2)(4,"div",2),t.qZA(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(6,"h3"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"label",4),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",5),t.ALo(13,"translate"),t.TgZ(14,"div",6),t.YNc(15,v,3,3,"small",7),t.qZA(),t.TgZ(16,"label",8),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",9),t.ALo(20,"translate"),t.TgZ(21,"div",6),t.YNc(22,C,3,3,"small",7),t.YNc(23,A,3,3,"small",7),t.qZA(),t.TgZ(24,"button",10),t._uU(25),t.ALo(26,"translate"),t.qZA()()()),2&e){let s,a,g,d,p;t.Q6J("dir",t.lcZ(1,14,"dir")),t.xp6(5),t.Q6J("formGroup",o.loginForm),t.xp6(2),t.hij(" ",t.lcZ(8,16,"login.login"),""),t.xp6(3),t.hij(" ",t.lcZ(11,18,"login.email"),""),t.xp6(2),t.Q6J("placeholder",t.lcZ(13,20,"login.email")),t.xp6(2),t.Q6J("hidden",(null==(s=o.loginForm.get("email"))?null:s.valid)||(null==(s=o.loginForm.get("email"))?null:s.untouched)),t.xp6(1),t.Q6J("ngIf",null==(a=o.loginForm.get("email"))||null==a.errors?null:a.errors.required),t.xp6(2),t.Oqu(t.lcZ(18,22,"login.password")),t.xp6(2),t.Q6J("placeholder",t.lcZ(20,24,"login.email")),t.xp6(2),t.Q6J("hidden",(null==(g=o.loginForm.get("password"))?null:g.valid)||(null==(g=o.loginForm.get("password"))?null:g.untouched)),t.xp6(1),t.Q6J("ngIf",null==(d=o.loginForm.get("password"))||null==d.errors?null:d.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==(p=o.loginForm.get("password"))||null==p.errors?null:p.errors.required),t.xp6(1),t.Q6J("disabled",o.loginForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(26,26,"login.login"),"")}},dependencies:[m.O5,b.Lv,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,h.X$],styles:["body[_ngcontent-%COMP%]{background-color:#080710}.background[_ngcontent-%COMP%]{width:430px;height:520px;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%}.background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:200px;width:200px;position:absolute;border-radius:50%}.shape[_ngcontent-%COMP%]:first-child{background:linear-gradient(#1845ad,#23a2f6);left:-80px;top:-80px}.shape[_ngcontent-%COMP%]:last-child{background:linear-gradient(to right,#ff512f,#f09819);right:-30px;bottom:-80px}form[_ngcontent-%COMP%]{height:520px;width:400px;background-color:#ffffff21;position:absolute;transform:translate(-50%,-50%);top:55%;left:50%;border-radius:10px;border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fff;letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px;font-weight:500}input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;background-color:#ffffff12;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px;font-weight:300}[_ngcontent-%COMP%]::placeholder{color:#e5e5e5}button[_ngcontent-%COMP%]{margin-top:50px;width:100%;color:#080710!important;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}"]})}return n})();var F=l(5727),w=l(4292);const T=[{path:"",title:"login",component:P}];let L=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[m.ez,F.q,w.m,c.Bz.forChild(T)]})}return n})()}}]);